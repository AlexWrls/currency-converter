<script xmlns:th="http://www.w3.org/1999/xhtml" th:inline="javascript" th:fragment="graph(rates)">

    google.charts.load('current', {packages: ['corechart', 'line']});
    google.charts.setOnLoadCallback(drawBasic);
    var graph = [[${rates}]];

    function drawBasic() {
        let data = new google.visualization.DataTable();
        data.addColumn('number', 'X');
        data.addColumn('number', 'Стоимость(руб)');

        let arr = [
            [0, 0]
        ];

        for (let i = 0; i < graph.length; i++) {
            arr[i] = [i + 1];
            arr[i][1] = graph[i];
        }

        data.addRows(arr);
        console.log(data);

        let options = {
            hAxis: {
                title: 'Время'
            },
            vAxis: {
                title: 'Валюта(руб)'
            }
        };
        let chart = new google.visualization.LineChart(document.getElementById('chart_div'));
        chart.draw(data, options);
    }
</script>
